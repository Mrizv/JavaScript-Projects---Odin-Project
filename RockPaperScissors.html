<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="choices">
      <button id="rock">Rock</button>
      <button id="paper">Paper</button>
      <button id="scissors">Scissors</button>
    </div>
    <p id="playerChoiceDisplay"></p>
    <p id="computerChoiceDisplay"></p>
    <p id="roundResultDisplay"></p>
    <p id="runningScoreDisplay"></p>
    <script>
      let humanChoice = "";
      const playerChoiceDisplay = document.getElementById(
        "playerChoiceDisplay"
      );

      const choice1 = document.getElementById("rock");
      choice1.addEventListener("click", () => {
        humanChoice = "rock";
        playerChoiceDisplay.textContent = "You Chose: Rock";
        playRound(humanChoice);
      });

      const choice2 = document.getElementById("paper");
      choice2.addEventListener("click", () => {
        humanChoice = "paper";
        playerChoiceDisplay.textContent = "You Chose: Paper";
        playRound(humanChoice);
      });

      const choice3 = document.getElementById("scissors");
      choice3.addEventListener("click", () => {
        humanChoice = "scissors";
        playerChoiceDisplay.textContent = "You Chose: Scissors";
        playRound(humanChoice);
      });

      /*
       * Step 1: (computer logic)
       * Create new function named getComputerChoice
       * getComputerChoice randomly returns either "rock", "paper", or "scissors"
       * Math.random method returns random number >= 0 & < 1 : use conditions
       * Test using console.log()
       */
      function getComputerChoice() {
        const randomNum = Math.random();
        if (randomNum <= 0.33) {
          computerChoiceDisplay.textContent = "Computer Chose: Rock";
          return "rock";
        } else if (randomNum <= 0.66) {
          computerChoiceDisplay.textContent = "Computer Chose: Paper";
          return "paper";
        } else {
          computerChoiceDisplay.textContent = "Computer Chose: Scissors";
          return "scissors";
        }
      }
      /*
       * Step 2: (human logic)
       * Create new function named getHumanChoice
       * getHumanChoice will use prompt method to get user's input
       * Assume user will always enter valid choice
       * Test using console.log()
       */

      /* CUT OUT SINCE HUMAN CHOICE IS NOW BUTTON
      function getHumanChoice() {
        let choice = prompt("Choose either 'rock', 'paper', or 'scissors'");
        if (choice === "rock") {
          return choice;
        } else if (choice === "paper") {
          return choice;
        } else {
          return choice;
        }
      }
      */

      /*
       * Step 3: (Declare player score variables)
       * create two new variables: humanScore & computerScore in global scope
       * initialize both variables to 0
       */

      let humanScore = 0;
      let computerScore = 0;

      /*
       * Step 4: (Logic for single round)
       * create new function playRound
       * define two params for playRound: humanChoice & computerChoice
       * humanChoice param will be case-insensitive
       * write code for playRound function to console.log a string value rep. round winner
       * increment humanScore or computerScore based on round winner
       */

      function playRound(playerSelection) {
        // DON'T NEED CASE SENSITIVITY FOR BUTTONS
        // let caseInsensitive = humanChoice.toLowerCase();
        // let normalComputerChoice = computerChoice.toLowerCase();
        const computerSelection = getComputerChoice();
        let roundResult = "";

        if (playerSelection === computerSelection) {
          roundResult = "No Winners, it's a tie!";
        } else if (
          (playerSelection === "rock" && computerSelection === "scissors") ||
          (playerSelection === "paper" && computerSelection === "rock") ||
          (playerSelection === "scissors" && computerSelection === "paper")
        ) {
          roundResult = `You Win! You chose ${playerSelection} which beats ${computerSelection}!`;
          humanScore++;
        } else {
          roundResult = `You Lose! The Computer chose ${computerSelection} which beats ${playerSelection}`;
          computerScore++;
        }
        document.getElementById("roundResultDisplay").textContent = roundResult;
        document.getElementById(
          "runningScoreDisplay"
        ).textContent = `You now have ${humanScore} points and the computer has ${computerScore}`;
      }

      // const humanSelection = getHumanChoice();
      // const computerSelection = getComputerChoice();

      // playRound(humanSelection, computerSelection);

      /*
       * Step 5: (Build logic to play whole game)
       * Game will play 5 rounds
       * create function playGame
       * move playRound function & score variables so they are declared in playGame func
       * call playRound 5 times
       */

      /* REMOVING LOGIC THAT PLAYS 5 ROUNDS
      function playGame() {
        let humanScore = 0;
        let computerScore = 0;
        function playRound(humanChoice, computerChoice) {
          let caseInsensitive = humanChoice.toLowerCase();
          let normalComputerChoice = computerChoice.toLowerCase();
          let combinedChoices = `${caseInsensitive}-${normalComputerChoice}`;

          if (caseInsensitive === normalComputerChoice) {
            return "No Winners, it's a tie!";
          }

          switch (combinedChoices) {
            case "rock-scissors":
            case "paper-rock":
            case "scissors-paper":
              humanScore++;
              return `User chose ${caseInsensitive} so they win! Computer chose ${normalComputerChoice} so they lost`;
            case "rock-paper":
            case "paper-scissors":
            case "scissors-rock":
              computerScore++;
              return `Computer chose ${normalComputerChoice} so they win! User chose ${caseInsensitive} so they lost`;
          }
        }

        for (let i = 0; i < 5; i++) {
          const humanSelection = getHumanChoice();
          const computerSelection = getComputerChoice();
          const result = playRound(humanSelection, computerSelection);
          console.log(`Round ${i + 1}: ${result}`);
        }
        

        console.log(
          `Final Scores: Human: ${humanScore}, Computer: ${computerScore}`
        );
        if (humanScore > computerScore) {
          return "Congrats! You won!";
        } else if (humanScore < computerScore) {
          return "Aw man, you lose :(";
        } else {
          return "It's a tie game!";
        }
      }

      console.log(playGame());
      */
    </script>
  </body>
</html>
